
<!DOCTYPE html>
<html lang="en">
<head>
<link rel="canonical" href="https://sandyuraz.com/blogs/web-legacy" type=""/>
<link rel="shortcut icon" href="https://sandyuraz.com/assets/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="https://sandyuraz.com/assets/apple-touch-icon.png" type="image/png"/>
<link rel="image_src" href="https://sandyuraz.com/assets/android-chrome-512x512.png" type="image/png"/>
<link rel="icon" href="https://sandyuraz.com/assets/favicon.ico" type=""/>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" property="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" property="generator" content="Darkness">
<meta name="author" property="author" content="sandy">
<meta name="theme-color" property="theme-color" content="#fffff4">
<meta name="description" property="description" content="I love typesetting tools. In my experience, I have used and written articles and papers using the following list of tools: LaTeX, =grof..."><meta name="og:title" property="og:title" content="Building this website (Legacy) 🌐">
<meta name="og:site_name" property="og:site_name" content="Sandy’s Website ⛩">
<meta name="og:url" property="og:url" content="https://sandyuraz.com/blogs/web-legacy">
<meta name="og:locale" property="og:locale" content="en_GB">
<meta name="og:type" property="og:type" content="website">
<meta name="og:image" property="og:image" content="https://sandyuraz.com/blogs/web-legacy/preview.jpg">
<meta name="og:image:alt" property="og:image:alt" content="Preview">
<meta name="og:image:type" property="og:image:type" content="image/jpg">
<meta name="og:image:width" property="og:image:width" content="1280">
<meta name="og:image:height" property="og:image:height" content="640">
<meta name="og:description" property="og:description" content="I love typesetting tools. In my experience, I have used and written articles and papers using the following list of tools: LaTeX, =grof..."><meta name="twitter:card" property="twitter:card" content="summary_large_image">
<meta name="twitter:site" property="twitter:site" content="Sandy’s Website ⛩">
<meta name="twitter:creator" property="twitter:creator" content="@sandyuraz">
<meta name="twitter:image:src" property="twitter:image:src" content="https://sandyuraz.com/blogs/web-legacy/preview.jpg">
<meta name="twitter:url" property="twitter:url" content="https://sandyuraz.com/blogs/web-legacy">
<meta name="twitter:title" property="twitter:title" content="Building this website (Legacy) 🌐">
<meta name="twitter:description" property="twitter:description" content="I love typesetting tools. In my experience, I have used and written articles and papers using the following list of tools: LaTeX, =grof...">
<script type="module">document.documentElement.classList.remove("no-js");document.documentElement.classList.add("js");</script>
<script async src="https://sandyuraz.com/scripts/time.js"></script>
<title>Building this website (Legacy) 🌐</title>
</head>
<link rel="stylesheet" type="text/css" href="https://sandyuraz.com/css/web.css">

<body class="article">

<div id="header">
<h1><img id="myface" src="https://sandyuraz.com/najimi.webp" width="112" height="112">Building this website (Legacy) 🌐</h1>
<div class="details">
<span id="author" class="author">sandy</span><br>
<span id="email" class="email">[at] sandyuraz [dot] com</span><br>
<span id="revdate">
<a href="https://sandyuraz.com/dossier">Dossier 🖋</a> | <a href="https://sandyuraz.com/books">Bookshelf 🔖</a> | <a href="https://sandyuraz.com/fortunes">Fortunes 🧧</a> | <a href="https://sandyuraz.com/">Home 🏠</a></span>
</div>
<div id="hetime" class="details"></div>
</div>
<div id="content">

<div class="paragraph">
<p title="Mon, 14 Mar 2022">
73; 12022 H.E.
</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">NOTE</div>
</td>
<td class="content">
Everything below is the legacy version of the website that has been building up for good two to three years. On the night of March 13th, <a href="https://github.com/thecsw/darkness">darkness</a> took over <a href="https://sandyuraz.com">sandyuraz.com</a>, reducing average build time from 7-8s to &lt;100ms. There will be a link to <code>darkness</code> on the home page. The legacy version can be accessed on a <a href="https://github.com/thecsw/thecsw.github.io/tree/legacy-source">separate branch</a>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>
I love typesetting tools. In my experience, I have used and written articles and papers using the following list of tools: <code>LaTeX</code>, <code>groff</code>, <code>markdown</code>, <code>Org-Mode</code>, <code>asciidoctor</code>, <code>HTML</code>, <code>plain text</code>. I had to decompress Word files and wrestle with raw XML files there, what a trip that was.
</p>
</div>
<div class="paragraph">
<p>
You might be interested in how this website is built. Basically, the whole of this website is a collection of <a href="https://orgmode.org">Org Mode</a> files, couple of <a href="https://en.wikipedia.org/wiki/Sed">sed</a> scripts, some shell, and a master <a href="https://github.com/thecsw/thecsw.github.io/blob/source/Makefile">makefile</a>. Makefile converts my raw org mode files into <a href="https://asciidoctor.org">asciidoctor</a> with <a href="https://pandoc.org">pandoc</a>, sed scripts modify the asciidoctor files, then asciidoctor binary is called to generate HTML, and another sed script to modify the generated files, like adding CSS and some custom meta tags.
</p>
</div>
<div class="paragraph">
<p>
The <a href="https://github.com/thecsw/thecsw.github.io">repository</a> is hosted on Github. <code>source</code> branch is the one that contains all the source org files, on every commit push, a github workflow is triggered that runs everything above and deploys the generated website to <code>master</code> branch, where it triggers Github Pages to build the branch and deploy it <a href="https://sandyuraz.com">here</a>.
</p>
</div>
<div class="paragraph">
<p>
Below is a good flow graph of files and operations. Just to solidify the structure of the website, here is the <a href="https://github.com/thecsw/thecsw.github.io/blob/source/web/index.org">source org file</a> for <strong>this</strong> webpage.
</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-" data-lang="">          ───────────────
      ───/               \───
     /                       \
    (   Commit push triggers  )
     \     github workflow   /
      ───\               /───
          ────────/──────
                 /
       Makefile /
                │
               /
  ┌───────────o────┐     pandoc
  │   org files    ├────────────────┐
  └───────┬────────┘                │
          │                         │
          │                         │
          │ pandoc                  │
          │                         │
  ┌───────┴───────────┐   ┌─────────┴───────────┐
  │ asciidoctor files │   │   README.md files   │
  └─────────┬─────────┘   └─────────────────────┘
            │
            │
             \ sed script
             │
   ┌─────────o─────────┐
   │ modified asciid.  │
   └────────┬──────────┘
            │
            │
             \ asciidoctor
             │
   ┌─────────o─────────┐
   │  generated HTML   │
   └────────┬──────────┘
            │
            │
           /  sed scripts
           │
   ┌───────o───────────┐
   │ pretty HTML files │
   └───────────────────┘
         ─/
       ─/
     ──      ───────────────
       o────/               \────
       /      Push files to      \
      ( master and deploy to Pages)
       \                         /
        ────\               /────
             ───────────────</code></pre>
</div>
</div>

<div class="paragraph">
<p>
That’s the kind of workflow I have for my website. Whenever I do want to add a new page or update existing ones, all I have to do is edit org mode files, which are native to Emacs and push committed updates. That’s all the magic!
</p>
</div>
<div class="paragraph">
<p>
On a quick note, you were probably curious about the <a href="https://sandyuraz.com/fortunes">fortunes page</a>. The simplicity of website updates allows some room for automation. Please meet <a href="https://git.sr.ht/~thecsw/astrie">astrie</a>! My personal assistant for my website.
</p>
</div>
<div class="paragraph">
<p>
Astrie talks to me through Telegram, where I send her various commands, such as adding quotes and she <a href="https://github.com/thecsw/thecsw.github.io/commit/4f39fb7479112e1d116475dad8ed7415c5ba10e6">patiently abides</a>. I’m quite proud of her, as all we need for all that complexity is a ~100 loc Go package with a very small shell script that runs continuous git submodule updates and pushes.
</p>
</div>
<div class="paragraph">
<p>
In a bigger picture, I must say that I would love to be able to typeset beautiful documents and books like the ones below
</p>
</div>
<div class="ulist">
<ul>

<li>
<p>
<a href="https://www.gopl.io/">The GO Programming Language</a>
</p>
</li>

<li>
<p>
<a href="https://en.wikipedia.org/wiki/The_C_Programming_Language">C Programming Language, 2nd Edition</a>
</p>
</li>

<li>
<p>
<a href="https://en.wikipedia.org/wiki/The_Unix_Programming_Environment">The Unix Programming Environment</a>
</p>
</li>
</ul>
</div>

</div>
</div>

</body>
</html>
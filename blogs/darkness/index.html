<!--
                 ,ae,
                ,88888e
 _____   ,a888b.9888888i   _____              _
(_____)  888888888888888  (____ \            | |
   _     88888888888888Y   _   \ \ ____  ____| |  _ ____   ____  ___  ___
  | |    '8888888888888'  | |   | / _  |/ ___) | / )  _ \ / _  )/___)/___)
 _| |_     "S888888888"   | |__/ ( ( | | |   | |< (| | | ( (/ /|___ |___ |
(_____)      "7888888Y    |_____/ \_||_|_|   |_| \_)_| |_|\____|___/(___/
                "e88j
                  "Y

-->
<!DOCTYPE html>
<html lang="en">
<head>
<link rel="canonical" href="https://sandyuraz.com/blogs/darkness" type=""/>
<link rel="shortcut icon" href="https://sandyuraz.com/assets/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="https://sandyuraz.com/assets/apple-touch-icon.png" type="image/png"/>
<link rel="image_src" href="https://sandyuraz.com/assets/android-chrome-512x512.png" type="image/png"/>
<link rel="icon" href="https://sandyuraz.com/assets/favicon.ico" type=""/><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" property="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" property="generator" content="Darkness">
<meta name="author" property="author" content="sandy">
<meta name="date" property="date" content="144; 12022 H.E.">
<meta name="theme-color" property="theme-color" content="#fbebef">
<meta name="description" property="description" content="It doesn’t feel right anymore. Every time I write something for my website, I feel that I have to dance to the tune of pandoc and =asci...">
<meta name="robots" content="noindex, nofollow">
<meta name="og:title" property="og:title" content="I love Darkness 🥬">
<meta name="og:site_name" property="og:site_name" content="Sandy’s Website ⛩️">
<meta name="og:url" property="og:url" content="https://sandyuraz.com/blogs/darkness">
<meta name="og:locale" property="og:locale" content="en_GB">
<meta name="og:type" property="og:type" content="website">
<meta name="og:image" property="og:image" content="https://sandyuraz.com/blogs/darkness/preview.jpg">
<meta name="og:image:alt" property="og:image:alt" content="Preview">
<meta name="og:image:type" property="og:image:type" content="image/jpg">
<meta name="og:image:width" property="og:image:width" content="1200">
<meta name="og:image:height" property="og:image:height" content="700">
<meta name="og:description" property="og:description" content="It doesn’t feel right anymore. Every time I write something for my website, I feel that I have to dance to the tune of pandoc and =asci...">
<meta name="twitter:card" property="twitter:card" content="summary_large_image">
<meta name="twitter:site" property="twitter:site" content="Sandy’s Website ⛩️">
<meta name="twitter:creator" property="twitter:creator" content="@sandyuraz">
<meta name="twitter:image:src" property="twitter:image:src" content="https://sandyuraz.com/blogs/darkness/preview.jpg">
<meta name="twitter:url" property="twitter:url" content="https://sandyuraz.com/blogs/darkness">
<meta name="twitter:title" property="twitter:title" content="I love Darkness 🥬">
<meta name="twitter:description" property="twitter:description" content="It doesn’t feel right anymore. Every time I write something for my website, I feel that I have to dance to the tune of pandoc and =asci..."><link rel="stylesheet" type="text/css" href="https://sandyuraz.com/css/darkness.css">


<link rel="stylesheet" href="https://sandyuraz.com/scripts/highlight/styles/sandy.min.css"><script type="module">document.documentElement.classList.remove("no-js");document.documentElement.classList.add("js");</script>
<script async src="https://sandyuraz.com/scripts/time.js"></script>
<script src="https://sandyuraz.com/scripts/highlight/highlight.min.js"></script>
<script src="https://sandyuraz.com/scripts/highlight/languages/bash.min.js"></script>
<script>hljs.highlightAll();</script>


<title>I love Darkness 🥬</title>
</head>
<body class="article">

<div class="header">
<h1 class="section-1"><img id="myface" src="https://sandyuraz.com/najimi.webp" alt="avatar">I love Darkness 🥬</h1>
<div class="menu">
<span><a href="/feed.xml" class="rss-link"><img src="/assets/rss.svg" class="rss-icon"></a></span><br>
<span id="email" class="email">darkness [at] sandyuraz [dot] com</span><br>
<span id="revdate">
<a href="https://sandyuraz.com/dossier">Dossier 🖋</a> | <a href="https://sandyuraz.com/books">Bookshelf 🔖</a> | <a href="https://sandyuraz.com/fortunes">Fortunes 🧧</a> | <a href="https://sandyuraz.com/fortunes/kk">K.K.’s Fortunes 🦋</a> | <a href="https://sandyuraz.com/blogs">Go Up ☝️</a> | <a href="https://sandyuraz.com/">Home 🏠</a></span>
</div>
<div id="hetime" class="menu"></div>
</div>
<div class="writing">

<div class="paragraph" id="date-section" title="Tue, 24 May 2022">
<p>
🍉 At least 3 years, 4 months, and 11 days ago
</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">NOTE</div>
</td>
<td class="content">
Darkness v2.0 got released on December 23rd, 12022 H.E. 🥳 Please go and check out the updated instructions and samples on <a href="https://github.com/thecsw/darkness" title="">her GitHub</a>. This page was kept the same for legacy reasons.
</td>
</tr>
</table>
</div>
<h1 id="this-is-no-life" class="section-2">This is no life</h1>
<div class="paragraph" >
<p>
It doesn’t feel right anymore. Every time I write something for my website, I feel that I have to dance to the tune of <code>pandoc</code> and <code>asciidoctor</code>. Maybe the Ruby and Haskell Gods will take pity on me and my stuff will render as I want them to. Oh... they didn’t? Time to write a new <code>sed</code> script to fix that.
</p>
</div>
<div class="paragraph" >
<p>
This is no life. Instead of fixing an issue at its root, I’ve been writing <a href="https://github.com/thecsw/thecsw.github.io/blob/legacy-source/sed/html.sed" title="">fixes</a>, <a href="https://github.com/thecsw/thecsw.github.io/blob/legacy-source/sed/adoc.sed" title="">patches</a>, and <a href="https://github.com/thecsw/thecsw.github.io/blob/legacy-source/Makefile" title="">this</a>. It was fun in the beginning! Mastering sed and awk, the forbidden tools echoed from the past. However, as time went on and I wanted to add more content and get more freedom, <a href="https://sandyuraz.com/blogs/web-legacy/" title="">this pipeline</a> felt limiting.
</p>
</div>
<h1 id="a-hero-emerges" class="section-2">A hero emerges</h1>
<div class="paragraph" >
<p>
It is my honor and pleasure to introduce you to <a href="https://github.com/thecsw/Darkness" title="">Darkness</a>! The noblest, static website generator. The website you are on right now is built by her, with all the images, styling, embeds, and more! The big advantage of Darkness is that she is general enough (with a config file), so she can build any website for what their heart desires.
</p>
</div>
<div class="paragraph" >
<p>
Darkness currently takes a subset of org-mode files and creates an HTML file for them. Org-mode is a markup language used by emacs, though it’s very similar to markdown. There is a getting started portion further! It will get you everything you need to get comfortable with the process. Also, darkness is more agnostic than just org-&gt;html. One just has to write a parser/exporter for a markup language, enable it, and now we have multiple supported types!
</p>
</div>
<h1 id="plethora-of-features" class="section-2">Plethora of features</h1>
<div class="paragraph" >
<p>
Darkness supports a vast array of features and cool tricks, such as
</p>
</div>
<div class="ulist" >
<ul class="">

<li class="l1">
<p>
Project configuration with a <a href="https://github.com/thecsw/darkness/blob/master/ishmael/darkness.toml" title="">simple toml file</a>
</p>
</li>

<li class="l1">
<p>
Smart headings (laid out and shifted as needed)
</p>
</li>

<li class="l1">
<p>
Paragraphs with full <a href="https://orgmode.org/worg/dev/org-syntax.html" title="">orgmode-style formatting</a>
</p>
</li>

<li class="l1">
<p>
Lists with any text and breaking lines
</p>
</li>

<li class="l1">
<p>
Intelligent placement of images and their captions
</p>
</li>

<li class="l1">
<p>
Orgmode environments, like <code>quote</code> and <code>center</code>
</p>
</li>

<li class="l1">
<p>
Embed support for: youtube, Spotify, video, audio, etc.
</p>
</li>

<li class="l1">
<p>
Raw HTML placement and export within the page
</p>
</li>

<li class="l1">
<p>
Orgmode interactive tables support
</p>
</li>

<li class="l1">
<p>
Stylistic features, like dropcaps
</p>
</li>

<li class="l1">
<p>
Native support for image galleries
</p>
</li>

<li class="l1">
<p>
Source code blocks with language selection
</p>
</li>

<li class="l1">
<p>
Full math render support with <a href="https://katex.org" title="">KaTeX</a>
</p>
</li>

<li class="l1">
<p>
Smart Holocene time annotations and layovers
</p>
</li>

<li class="l1">
<p>
Rich meta tags with previews enabled on every page
</p>
</li>

<li class="l1">
<p>
Creating new darkness websites from a template
</p>
</li>

<li class="l1">
<p>
Project cleanup and maintenance tools included with the binary
</p>
</li>

<li class="l1">
<p>
Open-source code, PRs, and contributions are welcome!
</p>
</li>
</ul>
</div>

<h1 id="not-only-noble-but-also-super-fast" class="section-2">Not only noble but also super fast</h1>
<div class="paragraph" >
<p>
Darkness is also lightning fast! With the old pipeline, it would take around 15-20 seconds to build my website. Darkness <strong>only takes ~120ms</strong> to do the same, with IO and memory syscall times included.
<sup class="footnote"><a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">I</a></sup>
This is why <a href="https://sandyuraz.com/blogs/pprof/" title="">profiling should be your friend.</a> She uses some cool parallelization tricks, so we spend around 1ms on each page. Pretty cool if you ask me. The fastest (though admittedly larger) static website generators took a bit more time in my experience.
</p>
</div></div>

<div class="coding" >
<div class="listingblock">
<pre class="highlight"><code class="language-bash" data-lang="sh">sandyuraz:source* λ darkness build
Processed in 127 ms
farewell</code></pre>
</div>
</div>
<div class="writing">

<h1 id="getting-started" class="section-2">Getting started</h1>
<div class="paragraph" >
<p>
Want to try out darkness but don’t know org-mode? You are at the very start of something beautiful, my friend! If you have go 1.18+ installed, run the command below to get the latest version of her (you can also grab a suitable binary from the <a href="https://github.com/thecsw/darkness/releases" title="">releases</a> page)
</p>
</div></div>

<div class="coding" >
<div class="listingblock">
<pre class="highlight"><code class="language-bash" data-lang="sh">go install -v github.com/thecsw/darkness@latest</code></pre>
</div>
</div>
<div class="writing">

<div class="paragraph" >
<p>
Next, go to the place, where you would like to house your next website. Call her with a <code>new</code> command followed by any name that feeds your soul (<code>ishmael</code> is an example here)
</p>
</div></div>

<div class="coding" >
<div class="listingblock">
<pre class="highlight"><code class="language-bash" data-lang="sh">darkness new ishmael</code></pre>
</div>
</div>
<div class="writing">

<div class="paragraph" >
<p>
Voilà! You have a new darkness project initiated. Change into that new directory with <code>cd ishmael</code> and type in <code>darkness build</code>. You’ll find an <code>index.html</code> in the root, go open it! After that, look into <code>darkness.toml</code>, which shows you the number of things you can play with to change the looks and feel.
</p>
</div>
<div class="paragraph" >
<p>
Here is <a href="https://sandyuraz.com/ishmael" title="">Ishmael’s website</a> that shows the formatting in action with many other cool things! It’s the template website that we just made above. I do hope you find it fun here
</p>
</div>
<h1 id="niche-features" class="section-2">Niche features</h1>
<div class="paragraph" >
<p>
See this cool trick of cleaning up the project with <code>megumin</code>!
</p>
</div></div>

<div class="media" >
<a class="image" ><img class="image" src="megumin.gif" title="The exploding gif." alt="The exploding gif."></a>
<div class="title">The exploding gif.</div>
<hr>
</div><div class="writing">

<h1 id="why--darkness" class="section-2">Why <em>Darkness</em>?</h1>
<div class="paragraph" >
<p>
Her name is based on one of the characters I love from <a href="https://en.wikipedia.org/wiki/KonoSuba" title="">KonoSuba</a>
</p>
</div></div>

<div class="media" >
<a class="image" ><img class="image" src="darkness.webp" title="Dustiness Ford Lalatina" alt="Dustiness Ford Lalatina"></a>
<div class="title">Dustiness Ford Lalatina</div>
<hr>
</div><div class="writing">

<div class="paragraph quote" >
<p>
<em>A knight must never run away, no matter how mighty the enemy.</em> – Darkness <b style="color:var(--color-tomb)">◼︎</b>
</p>
</div>
</div>


<div id="footnotes">
<hr>

<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">I</a>
Tested on my macOS 13.0.1 22A400 arm64
</div>

</div>

</body>
</html>